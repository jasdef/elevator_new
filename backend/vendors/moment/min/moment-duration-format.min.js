/*
 Moment Duration Format v2.2.2
  https://github.com/jsmreese/moment-duration-format
  Date: 2018-02-16

  Duration format plugin function for the Moment.js library
  http://momentjs.com/

  Copyright 2018 John Madhavan-Reese
  Released under the MIT license
*/
(function(r,t){if("function"===typeof define&&define.amd)define(["moment"],t);else if("object"===typeof exports)try{module.exports=t(require("moment"))}catch(y){module.exports=t}r&&(r.momentDurationFormatSetup=r.moment?t(r.moment):t)})(this,function(r){function t(a,b){return b.length>a.length?!1:-1!==a.indexOf(b)}function y(a){for(var b="";a;)b+="0",--a;return b}function N(a,b,c){var d=b.useToLocaleString,h=b.useGrouping,g=h&&b.grouping.slice(),k=b.maximumSignificantDigits,m=b.minimumIntegerDigits||
1,u=b.fractionDigits||0,q=b.groupingSeparator,r=b.decimalSeparator;if(d&&c)return h={minimumIntegerDigits:m,useGrouping:h},u&&(h.maximumFractionDigits=u,h.minimumFractionDigits=u),k&&0<a&&(h.maximumSignificantDigits=k),O||(g=P({},b),g.useGrouping=!1,g.decimalSeparator=".",a=parseFloat(N(a,g),10)),a.toLocaleString(c,h);b=(k?a.toPrecision(k+1):a.toFixed(u+1)).split("e");a=b[1]||"";b=b[0].split(".");c=b[1]||"";var f=b[0]||"";b=f.length;d=c.length;var t=b+d,l=f+c;if(k&&t===k+1||!k&&d===u+1){c=l.split("").reverse();
f=0;for(l=!0;l&&f<c.length;)f?"9"===c[f]?c[f]="0":(c[f]=(parseInt(c[f],10)+1).toString(),l=!1):(5>parseInt(c[f],10)&&(l=!1),c[f]="0"),f+=1;l&&c.push("1");l=c.reverse().join("");l.length===t+1&&(b+=1);d&&(l=l.slice(0,-1));f=l.slice(0,b);c=l.slice(b)}k&&(c=c.replace(/0*$/,""));a=parseInt(a,10);0<a?c.length<=a?(c+=y(a-c.length),f+=c,c=""):(f+=c.slice(0,a),c=c.slice(a)):0>a&&(c=y(Math.abs(a)-f.length)+f+c,f="0");k||(c=c.slice(0,u),c.length<u&&(c+=y(u-c.length)),f.length<m&&(f=y(m-f.length)+f));k="";if(h){b=
f;for(var n;b.length;)g.length&&(n=g.shift()),k&&(k=q+k),k=b.slice(-n)+k,b=b.slice(0,-n)}else k=f;c&&(k=k+r+c);return k}function qa(a,b){return a.label.length>b.label.length?-1:a.label.length<b.label.length?1:0}function ra(a,b){var c=[];g(Q(b),function(d){if("_durationLabels"===d.slice(0,15)){var h=d.slice(15).toLowerCase();g(Q(b[d]),function(g){g.slice(0,1)===a&&c.push({type:h,key:g,label:b[d][g]})})}});return c}function Z(a){return"[object Array]"===Object.prototype.toString.call(a)}function aa(a,
b){for(var c=a.length;--c;)if(b(a[c]))return a[c]}function m(a,b){var c=0,d=a&&a.length||0;if("function"!==typeof b){var h=b;b=function(b){return b===h}}for(;c<d;){if(b(a[c]))return a[c];c+=1}}function g(a,b){var c=0,d=a.length;if(a&&d)for(;c<d&&!1!==b(a[c],c);)c+=1}function q(a,b){var c=0,d=a.length,h=[];if(!a||!d)return h;for(;c<d;)h[c]=b(a[c],c),c+=1;return h}function ba(a,b){return q(a,function(a){return a[b]})}function G(a){var b=[];g(a,function(a){a&&b.push(a)});return b}function ca(a){var b=
[];g(a,function(a){m(b,a)||b.push(a)});return b}function la(a,b){var c=[];g(a,function(a){g(b,function(b){a===b&&c.push(a)})});return ca(c)}function ma(a,b){var c=[];g(a,function(d,h){if(!b(d))return c=a.slice(h),!1});return c}function sa(a,b){var c=a.slice().reverse();return ma(c,b).reverse()}function P(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function Q(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b}function R(a,b){var c=0,d=a.length;if(!a||!d)return!1;for(;c<
d;){if(!0===b(a[c],c))return!0;c+=1}return!1}function da(a){var b=[];g(a,function(a){b=b.concat(a)});return b}function ea(){var a=[].slice.call(arguments),b={},c;g(a,function(a,d){if(!d){if(!Z(a))throw"Expected array as the first argument to durationsFormat.";c=a}"string"===typeof a||"function"===typeof a?b.template=a:"number"===typeof a?b.precision=a:"[object Object]"===Object.prototype.toString.call(a)&&P(b,a)});if(!c||!c.length)return[];b.returnMomentTypes=!0;a=q(c,function(a){return a.format(b)});
a=la(H,ca(ba(da(a),"type")));var d=b.largest;d&&(a=a.slice(0,d));b.returnMomentTypes=!1;b.outputTypes=a;return q(c,function(a){return a.format(b)})}function fa(){var a=[].slice.call(arguments),b=P({},this.format.defaults),c=this.asMilliseconds(),d=this.asMonths();"function"===typeof this.isValid&&!1===this.isValid()&&(d=c=0);var h=0>c,y=r.duration(Math.abs(c),"milliseconds"),k=r.duration(Math.abs(d),"months");g(a,function(a){"string"===typeof a||"function"===typeof a?b.template=a:"number"===typeof a?
b.precision=a:"[object Object]"===Object.prototype.toString.call(a)&&P(b,a)});var O={years:"y",months:"M",weeks:"w",days:"d",hours:"h",minutes:"m",seconds:"s",milliseconds:"S"},u={escape:/\[(.+?)\]/,years:/\*?[Yy]+/,months:/\*?M+/,weeks:/\*?[Ww]+/,days:/\*?[Dd]+/,hours:/\*?[Hh]+/,minutes:/\*?m+/,seconds:/\*?s+/,milliseconds:/\*?S+/,general:/.+?/};b.types=H;var M=function(a){return m(H,function(b){return u[b].test(a)})},z=new RegExp(q(H,function(a){return u[a].source}).join("|"),"g");b.duration=this;
var f="function"===typeof b.template?b.template.apply(b):b.template,F=b.outputTypes;a=b.returnMomentTypes;c=b.largest;var l=[];F||(Z(b.stopTrim)&&(b.stopTrim=b.stopTrim.join("")),b.stopTrim&&g(b.stopTrim.match(z),function(a){a=M(a);"escape"!==a&&"general"!==a&&l.push(a)}));var n=r.localeData();n||(n={});g(Q(I),function(a){"function"===typeof I[a]?n[a]||(n[a]=I[a]):n["_"+a]||(n["_"+a]=I[a])});g(Q(n._durationTimeTemplates),function(a){f=f.replace("_"+a+"_",n._durationTimeTemplates[a])});var aa=b.userLocale||
r.locale(),J=b.useLeftUnits,da=b.usePlural,C=b.precision,ha=b.forceLength,ea=b.useGrouping,S=b.trunc,K=b.useSignificantDigits&&0<C,A=K?b.precision:0;d=A;var T=b.minValue,D=!1,U=b.maxValue,B=!1,ia=b.useToLocaleString,fa=b.groupingSeparator,ka=b.decimalSeparator,ua=b.grouping;ia=ia&&na;var p=b.trim;Z(p)&&(p=p.join(" "));null===p&&(c||U||K)&&(p="all");if(null===p||!0===p||"left"===p||"right"===p)p="large";!1===p&&(p="");var E=function(a){return a.test(p)},ja=/large/,V=/both/,W=/^all|[^sm]all/;ja=0<c||
R([ja,V,W],E);V=R([/small/,V,W],E);var va=R([/mid/,W],E);E=R([/final/,W],E);z=q(f.match(z),function(a,b){var v=M(a);"*"===a.slice(0,1)&&(a=a.slice(1),"escape"!==v&&"general"!==v&&l.push(v));return{index:b,length:a.length,text:"",token:"escape"===v?a.replace(u.escape,"$1"):a,type:"escape"===v||"general"===v?null:v}});var w={index:0,length:0,token:"",text:"",type:null},x=[];J&&z.reverse();g(z,function(a){a.type?((w.type||w.text)&&x.push(w),w=a):w.text=J?a.token+w.text:w.text+a.token});(w.type||w.text)&&
x.push(w);J&&x.reverse();var e=la(H,ca(G(ba(x,"type"))));if(!e.length)return ba(x,"text").join("");e=q(e,function(a,c){var v=c+1===e.length,d=!c;var g="years"===a||"months"===a?k.as(a):y.as(a);var f=Math.floor(g),ta=g-f,h=m(x,function(b){return a===b.type});d&&U&&g>U&&(B=!0);v&&T&&Math.abs(b.duration.as(a))<T&&(D=!0);d&&null===ha&&1<h.length&&(ha=!0);y.subtract(f,a);k.subtract(f,a);return{rawValue:g,wholeValue:f,decimalValue:v?ta:0,isSmallest:v,isLargest:d,type:a,tokenLength:h.length}});var oa=S?
Math.floor:Math.round,X=function(a,b){var c=Math.pow(10,b);return oa(a*c)/c},Y=!1,L=!1;z=function(a,b){var c={useGrouping:ea,groupingSeparator:fa,decimalSeparator:ka,grouping:ua,useToLocaleString:ia};K&&(0>=A?(a.rawValue=0,a.wholeValue=0,a.decimalValue=0):(c.maximumSignificantDigits=A,a.significantDigits=A));B&&!L&&(a.wholeValue=a.isLargest?U:0,a.decimalValue=0);D&&!L&&(a.wholeValue=a.isSmallest?T:0,a.decimalValue=0);a.isSmallest||a.significantDigits&&0>=a.significantDigits-a.wholeValue.toString().length?
0>C?a.value=X(a.wholeValue,C):0===C?a.value=oa(a.wholeValue+a.decimalValue):K?(a.value=S?X(a.rawValue,A-a.wholeValue.toString().length):a.rawValue,a.wholeValue&&(A-=a.wholeValue.toString().length)):(c.fractionDigits=C,a.value=S?a.wholeValue+X(a.decimalValue,C):a.wholeValue+a.decimalValue):K&&a.wholeValue?(a.value=Math.round(X(a.wholeValue,a.significantDigits-a.wholeValue.toString().length)),A-=a.wholeValue.toString().length):a.value=a.wholeValue;1<a.tokenLength&&(ha||Y)&&(c.minimumIntegerDigits=a.tokenLength,
L&&c.maximumSignificantDigits<a.tokenLength&&delete c.maximumSignificantDigits);!Y&&(0<a.value||""===p||m(l,a.type)||m(F,a.type))&&(Y=!0);a.formattedValue=N(a.value,c,aa);c.useGrouping=!1;c.decimalSeparator=".";a.formattedValueEn=N(a.value,c,"en");2===a.tokenLength&&"milliseconds"===a.type&&(a.formattedValueMS=N(a.value,{minimumIntegerDigits:3,useGrouping:!1},"en").slice(0,2));return a};e=q(e,z);e=G(e);if(1<e.length){var pa=function(a){return m(e,function(b){return b.type===a})};g(wa,function(a){var b=
pa(a.type);b&&g(a.targets,function(a){var c=pa(a.type);c&&parseInt(b.formattedValueEn,10)===a.value&&(b.rawValue=0,b.wholeValue=0,b.decimalValue=0,c.rawValue+=1,c.wholeValue+=1,c.decimalValue=0,c.formattedValueEn=c.wholeValue.toString(),L=!0)})})}L&&(Y=!1,A=d,e=q(e,z),e=G(e));!F||B&&!b.trim?(ja&&(e=ma(e,function(a){return!a.isSmallest&&!a.wholeValue&&!m(l,a.type)})),c&&e.length&&(e=e.slice(0,c)),V&&1<e.length&&(e=sa(e,function(a){return!a.wholeValue&&!m(l,a.type)&&!a.isLargest})),va&&(e=q(e,function(a,
b){return 0<b&&b<e.length-1&&!a.wholeValue?null:a}),e=G(e)),!E||1!==e.length||e[0].wholeValue||!S&&e[0].isSmallest&&e[0].rawValue<T||(e=[])):(e=q(e,function(a){return m(F,function(b){return a.type===b})?a:null}),e=G(e));if(a)return e;g(x,function(a){var b=O[a.type],c=m(e,function(b){return b.type===a.type});if(b&&c){c=c.formattedValueEn.split(".");c[0]=parseInt(c[0],10);c[1]=c[1]?parseFloat("0."+c[1],10):null;var d=n.durationPluralKey(b,c[0],c[1]),f=ra(b,n),h=!1,k={};g(n._durationLabelTypes,function(b){var c=
m(f,function(a){return a.type===b.type&&a.key===d});c&&(k[c.type]=c.label,t(a.text,b.string)&&(a.text=a.text.replace(b.string,c.label),h=!0))});da&&!h&&(f.sort(qa),g(f,function(b){if(k[b.type]===b.label){if(t(a.text,b.label))return!1}else if(t(a.text,b.label))return a.text=a.text.replace(b.label,k[b.type]),!1}))}});x=q(x,function(a){if(!a.type)return a.text;var b=m(e,function(b){return b.type===a.type});if(!b)return"";var c="";J&&(c+=a.text);if(h&&B||!h&&D)c+="< ",D=B=!1;if(h&&D||!h&&B)c+="> ",D=
B=!1;h&&(0<b.value||""===p||m(l,b.type)||m(F,b.type))&&(c+="-",h=!1);c="milliseconds"===a.type&&b.formattedValueMS?c+b.formattedValueMS:c+b.formattedValue;J||(c+=a.text);return c});return x.join("").replace(/(,| |:|\.)*$/,"").replace(/^(,| |:|\.)*/,"")}function ka(){var a=this.duration,b=function(b){return a._data[b]},c=m(this.types,b);b=aa(this.types,b);switch(c){case "milliseconds":return"S __";case "seconds":case "minutes":return"*_MS_";case "hours":return"_HMS_";case "days":if(c===b)return"d __";
case "weeks":if(c===b)return"w __";null===this.trim&&(this.trim="both");return"w __, d __, h __";case "months":if(c===b)return"M __";case "years":if(c===b)return"y __";null===this.trim&&(this.trim="both");return"y __, M __, d __";default:return null===this.trim&&(this.trim="both"),"y __, d __, h __, m __, s __"}}function M(a){if(!a)throw"Moment Duration Format init cannot find moment instance.";a.duration.format=ea;a.duration.fn.format=fa;a.duration.fn.format.defaults={trim:null,stopTrim:null,largest:null,
maxValue:null,minValue:null,precision:0,trunc:!1,forceLength:null,userLocale:null,usePlural:!0,useLeftUnits:!1,useGrouping:!0,useSignificantDigits:!1,template:ka,useToLocaleString:!0,groupingSeparator:",",decimalSeparator:".",grouping:[3]};a.updateLocale("en",I)}var na=!1,O=!1,H="escape years months weeks days hours minutes seconds milliseconds general".split(" "),wa=[{type:"seconds",targets:[{type:"minutes",value:60},{type:"hours",value:3600},{type:"days",value:86400},{type:"weeks",value:604800},
{type:"months",value:2678400},{type:"years",value:31536E3}]},{type:"minutes",targets:[{type:"hours",value:60},{type:"days",value:1440},{type:"weeks",value:10080},{type:"months",value:44640},{type:"years",value:525600}]},{type:"hours",targets:[{type:"days",value:24},{type:"weeks",value:168},{type:"months",value:744},{type:"years",value:8760}]},{type:"days",targets:[{type:"weeks",value:7},{type:"months",value:31},{type:"years",value:365}]},{type:"months",targets:[{type:"years",value:12}]}],I={durationLabelsStandard:{S:"millisecond",
SS:"milliseconds",s:"second",ss:"seconds",m:"minute",mm:"minutes",h:"hour",hh:"hours",d:"day",dd:"days",w:"week",ww:"weeks",M:"month",MM:"months",y:"year",yy:"years"},durationLabelsShort:{S:"msec",SS:"msecs",s:"sec",ss:"secs",m:"min",mm:"mins",h:"hr",hh:"hrs",d:"dy",dd:"dys",w:"wk",ww:"wks",M:"mo",MM:"mos",y:"yr",yy:"yrs"},durationTimeTemplates:{HMS:"h:mm:ss",HM:"h:mm",MS:"m:ss"},durationLabelTypes:[{type:"standard",string:"__"},{type:"short",string:"_"}],durationPluralKey:function(a,b,c){return 1===
b&&null===c?a:a+a}};O=(na=function(){a:{try{(0).toLocaleString("i")}catch(b){var a="RangeError"===b.name;break a}a=!1}if(!a)return!1;a=(a=(a=a&&"1"===(1).toLocaleString("en",{minimumIntegerDigits:1}))&&"01"===(1).toLocaleString("en",{minimumIntegerDigits:2}))&&"001"===(1).toLocaleString("en",{minimumIntegerDigits:3});if(!a)return!1;a=(a=(a=(a=a&&"100"===(99.99).toLocaleString("en",{maximumFractionDigits:0,minimumFractionDigits:0}))&&"100.0"===(99.99).toLocaleString("en",{maximumFractionDigits:1,minimumFractionDigits:1}))&&
"99.99"===(99.99).toLocaleString("en",{maximumFractionDigits:2,minimumFractionDigits:2}))&&"99.990"===(99.99).toLocaleString("en",{maximumFractionDigits:3,minimumFractionDigits:3});if(!a)return!1;a=(a=(a=(a=(a=a&&"100"===(99.99).toLocaleString("en",{maximumSignificantDigits:1}))&&"100"===(99.99).toLocaleString("en",{maximumSignificantDigits:2}))&&"100"===(99.99).toLocaleString("en",{maximumSignificantDigits:3}))&&"99.99"===(99.99).toLocaleString("en",{maximumSignificantDigits:4}))&&"99.99"===(99.99).toLocaleString("en",
{maximumSignificantDigits:5});return a?(a=(a=a&&"1,000"===(1E3).toLocaleString("en",{useGrouping:!0}))&&"1000"===(1E3).toLocaleString("en",{useGrouping:!1}))?!0:!1:!1}())&&"3.6"===(3.55).toLocaleString("en",{useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:1,maximumFractionDigits:1});M(r);return M});